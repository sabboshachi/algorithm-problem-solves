<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>2133. Terms of reference @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=1&amp;num=2133"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=1&amp;num=2133&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=1&amp;num=2133&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style58.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=1&amp;num=2133&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=1&amp;num=2133&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">2133. Terms of reference</H2><DIV class="problem_limits">Time limit: 3.0 second<BR>Memory limit: 256 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_epigraph">Terms of reference (TOR) is a document that specifies a set of requirements for the product and approved by both the customer and the contractor.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_epigraph">Encyclopedia</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Do you know why it is so important to correctly make the terms of reference (TOR)? Make yourself comfortable, now we will tell you a horror story about one construction company, which did not pay attention to the TOR.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Once this company built a residential complex which consisted of <i>n</i> high-rise buildings, standing close to each other. The agreement with the customer did not specify the number of floors in each building and the exterior decoration of the walls. Therefore, during <i>q</i> days, the customer changed the requirements, and the construction company had to make changes with already raised buildings. The changes were one of two types:
<ol>
<li> Change the number of floors in the <i>i</i>-th building to <i>x</i>, that is, if there was more floors, then they should be disassembled, and if less&mdash;they should be constructed.
<li> Change the exterior decoration of the walls of all buildings at the level of the <i>x</i>-th floor. One worker can decorate a continuous segment of buildings, the height of each is at least <i>x</i> floors.
</ol></DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Help the head of the HR department of this company to find out the minimal number of workers that required for each change in the exterior decoration of the walls.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains an integer <i>n</i> (1 &le; <i>n</i> &le; 10<sup>5</sup>) that is the number of buildings.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The second line contains <i>n</i> integers <i>h</i><sub><i>i</i></sub> (1 &le; <i>h</i><sub><i>i</i></sub> &le; 10<sup>9</sup>) that are the original heights of the buildings in the order from left to right.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The third line contains an integer <i>q</i> (1 &le; <i>q</i> &le; 10<sup>5</sup>) that is the number of changes.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The following <i>q</i> lines describe the changes in the order in which they were executed. The first number in each line is the type of change (1 or 2).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">If the current change has the type 1, then follow the integers <i>i</i> and <i>x</i> (1 &le; <i>i</i> &le; <i>n</i>; 1 &le; <i>x</i> &le; 10<sup>9</sup>) that are the building number and a new number of its floors accordingly. The buildings are numbered starting with one.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">If the current change has the type 2, then follows the integer <i>x</i> (1 &le; <i>x</i> &le; 10<sup>9</sup>) that is the height in the floors, at the level of which the change of exterior decoration is required. It is guaranteed that at least one change has type 2.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">For each change of type 2, in a separate line output the minimum number of workers which is required to complete the exterior decoration of the walls. Output the answers in order the requests were described.
 </DIV></DIV><H3 CLASS="problem_subtitle">Sample</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>7
3 6 5 2 6 1 4
6
2 3
1 6 4
2 3
2 5
1 4 10
2 5
</PRE></TD><TD><PRE>3
2
2
1
</PRE></TD></TR></TABLE><H3 CLASS="problem_subtitle">Notes</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Illustration of the first three changes of type 2 in the sample:</DIV></DIV><DIV CLASS="problem_centered_picture"><IMG SRC="/image/get.aspx/9d69a361-13bf-44ea-8722-4d5ae3eb6233" BORDER="0" ALT="Problem illustration"></DIV><DIV CLASS="problem_source"><B>Problem Author: </B>Nikita Sivukhin<BR></DIV></DIV></DIV><DIV><B>Tags: </B>none  <SPAN CLASS="problem_tags_toggle">(<FORM METHOD="POST" ACTION="problem.aspx?space=1&amp;num=2133" STYLE="display:inline;" ID="ToggleTagsForm"><A HREF="problem.aspx?space=1&amp;num=2133" ONCLICK="document.getElementById('ToggleTagsForm').submit();return false;"><INPUT TYPE="hidden" NAME="Action" VALUE="HideTags">hide tags for unsolved problems</A></FORM>)</SPAN></DIV><DIV CLASS="problem_links"><SPAN>Difficulty: 2011</SPAN>    <A HREF="print.aspx?space=1&amp;num=2133" TARGET="_blank">Printable version</A>    <A HREF="submit.aspx?space=1&amp;num=2133">Submit solution</A>    <A HREF="forum/?space=1&amp;num=2133">Discussion (0)</A><BR><A HREF="status.aspx?space=1&amp;num=2133">All submissions (94)</A>    <A HREF="status.aspx?space=1&amp;num=2133&amp;status=accepted">All accepted submissions (58)</A>    <A HREF="rating.aspx?space=1&amp;num=2133">Solutions rating (22)</A></DIV></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2020 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>