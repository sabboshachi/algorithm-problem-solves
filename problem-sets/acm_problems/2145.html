<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>2145. Olympiad for Everyone @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?space=1&amp;num=2145"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?space=1&amp;num=2145&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?space=1&amp;num=2145&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style58.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?space=1&amp;num=2145&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?space=1&amp;num=2145&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin-top:0.6em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">2145. Olympiad for Everyone</H2><DIV class="problem_limits">Time limit: 3.0 second<BR>Memory limit: 256 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">It was a rainy autumn day. A total of <i>n</i> students attended an olympiad, their intelligence can be ranked with integers <i>a</i><sub><i>i</i></sub>. And what a coincidence! Jury prepared exactly <i>n</i> problems, their difficulty can be ranked with integers <i>b</i><sub><i>i</i></sub>.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">A student can solve a problem if and only if their intelligence <i>a</i><sub><i>i</i></sub> is greater or equal than the difficulty <i>b</i><sub><i>j</i></sub> of the problem. Jury don’t want to upset participants, so each participant was given one problem they can solve.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Count the amount of ways to distribute problems between students, so that everyone is able to solve the problem they got. Each student should get exactly one problem, and each problem should be given to exactly one student. The answer can be large, so divide the answer by <i>p</i> and output the remainer (compute the answer modulo <i>p</i>).</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The first line contains a single integer <i>n</i>&nbsp;&mdash; the amount of participants (1 &le; <i>n</i> &le; 10<sup>5</sup>).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The second line contains <i>n</i> space-separated integers <i>a</i><sub><i>i</i></sub>&nbsp;&mdash; values of intelligence of participants (0 &le; <i>a</i><sub><i>i</i></sub> &le; 10<sup>9</sup>).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The third line contains <i>n</i> space-separated integers <i>b</i><sub><i>i</i></sub>&nbsp;&mdash; values of difficulty of problems (0 &le; <i>b</i><sub><i>i</i></sub> &le; 10<sup>9</sup>).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The fourth line contains one integer <i>p</i> (1 &le; <i>p</i> &le; 10<sup>9</sup>).</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output a single integer&nbsp;&mdash; the amount of ways to distribute the problems according to the statement modulo <i>p</i>.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE>3
1 2 3
1 2 3
100
</PRE></TD><TD><PRE>1
</PRE></TD></TR><TR><TD><PRE>3
3 3 3
1 1 1
100
</PRE></TD><TD><PRE>6
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Valintin Zuev<BR></DIV></DIV></DIV><DIV><B>Tags: </B>none  <SPAN CLASS="problem_tags_toggle">(<FORM METHOD="POST" ACTION="problem.aspx?space=1&amp;num=2145" STYLE="display:inline;" ID="ToggleTagsForm"><A HREF="problem.aspx?space=1&amp;num=2145" ONCLICK="document.getElementById('ToggleTagsForm').submit();return false;"><INPUT TYPE="hidden" NAME="Action" VALUE="HideTags">hide tags for unsolved problems</A></FORM>)</SPAN></DIV><DIV CLASS="problem_links"><SPAN>Difficulty: 303</SPAN>    <A HREF="print.aspx?space=1&amp;num=2145" TARGET="_blank">Printable version</A>    <A HREF="submit.aspx?space=1&amp;num=2145">Submit solution</A>    <A HREF="forum/?space=1&amp;num=2145">Discussion (2)</A><BR><A HREF="status.aspx?space=1&amp;num=2145">All submissions (605)</A>    <A HREF="status.aspx?space=1&amp;num=2145&amp;status=accepted">All accepted submissions (239)</A>    <A HREF="rating.aspx?space=1&amp;num=2145">Solutions rating (185)</A></DIV></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2020 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>